{% extends 'ui/admin/base.html' %}

{% block content %}
    <div class="flex-1 p-10">
        <div class="bg-white p-6 rounded shadow-lg">
            <h2 class="text-2xl font-semibold mb-4">Edit Product</h2>
            <form method="POST" action="{{ url_for('edit_product', product_id=product['_id']) }}" enctype="multipart/form-data" id="edit-product-form">
                {{ form.hidden_tag() }}
                <div class="mb-4">
                    {{ form.name.label(class="block text-gray-700") }}
                    {{ form.name(class="w-full px-4 py-2 border rounded", required=True) }}
                </div>
                <div class="mb-4">
                    {{ form.price.label(class="block text-gray-700") }}
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 flex items-center pl-2 text-gray-700">Rp</span>
                        {{ form.price(class="pl-8 w-full px-4 py-2 border rounded", required=True) }}
                    </div>
                </div>
                <div class="mb-4">
                    {{ form.color.label(class="block text-gray-700") }}
                    {{ form.color(class="w-full px-4 py-2 border rounded", required=True) }}
                </div>
                <div class="mb-4">
                    {{ form.image.label(class="block text-gray-700") }}
                    {{ form.image(class="w-full px-4 py-2 border rounded", required=True, accept="image/*") }}
                </div>
                <div class="flex justify-end">
                    <button type="button" id="cancel-edit-btn" class="bg-gray-500 text-white py-2 px-4 rounded mr-2">Cancel</button>
                    <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script>
        const cancelEditBtn = document.getElementById('cancel-edit-btn');

        cancelEditBtn.addEventListener('click', () => {
            window.history.back(); // Go back to previous page
        });
    </script>
{% endblock %}
